"use strict";(self.webpackChunkaniversario_dudu_confirmacao=self.webpackChunkaniversario_dudu_confirmacao||[]).push([[698],{3698:(_,c,a)=>{a.r(c),a.d(c,{HomeModule:()=>T});var d=a(9808),m=a(8698),r=a(2382),e=a(1223),p=a(1863);function g(o,i){1&o&&(e.TgZ(0,"small",25),e._uU(1,"Nome Obrigat\xf3rio"),e.qZA())}function h(o,i){1&o&&(e.TgZ(0,"small",25),e._uU(1,"Telefone Obrigat\xf3rio (apenas n\xfameros)"),e.qZA())}function v(o,i){1&o&&(e.TgZ(0,"small",25),e._uU(1,"Nome Acompanhante Obrigat\xf3rio"),e.qZA())}function b(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",27)(2,"div",28),e._UZ(3,"input",29),e.TgZ(4,"label",30),e._uU(5,"Acompanhante"),e.qZA(),e.YNc(6,v,2,0,"small",16),e.qZA(),e.TgZ(7,"div",31),e._UZ(8,"input",32),e.TgZ(9,"label",33),e._uU(10," Menor de 15 anos? "),e.qZA()(),e.TgZ(11,"div",13)(12,"button",34),e.NdJ("click",function(){const u=e.CHM(t).index;return e.oxw().removeGuest(u)}),e._UZ(13,"em",35),e.qZA()()()()}if(2&o){const t=i.index,n=e.oxw();e.xp6(1),e.Q6J("formGroupName",t),e.xp6(5),e.Q6J("ngIf",n.validOrTouchedGuests("name",t))}}let f=(()=>{class o{constructor(t,n,s){this.formBuilder=t,this.activatedRoute=n,this.server=s,this.sendButtornLoading=!0,this.sendButtonText="Confirmar",this.sendButtonTextConfirmed="Confirmado! \u{1f44d}\u{1f3fc}",this.sendButtonDisabled=!0,this.param=this.activatedRoute.snapshot.paramMap.get("idParticipant"),this.form=this.formBuilder.group({id:[null],name:[null,r.kI.required],phone:[null,[r.kI.required]],confirmed:[!1],guests:this.formBuilder.array([])})}ngOnInit(){this.param&&this.server.findById(this.param).subscribe({next:t=>{const n=t;this.form.controls.id.setValue(n.id),this.form.controls.name.setValue(n.name),this.form.controls.phone.setValue(n.phone),n.guests.forEach(s=>{this.addGuest(s)}),this.sendButtonDisabled=!1,n.confirmed&&(this.sendButtonText=this.sendButtonTextConfirmed,this.sendButtonDisabled=!0)},error:t=>console.log("CAGOU",t)})}get guests(){return this.form.get("guests")}addGuest(t){this.guests.push(this.formBuilder.group({id:[t.id],name:[t.name,r.kI.required],isKid:[t.isKid]}))}removeGuest(t){this.guests.removeAt(t)}confirm(){this.sendButtornLoading=!1,console.log(this.form.value),this.form.controls.confirmed.setValue(!0),this.server.update(this.form.value).subscribe({next:t=>{this.sendButtonText=this.sendButtonTextConfirmed,this.sendButtornLoading=!0,this.sendButtonDisabled=!0},error:t=>{console.log("CAGOU",t),this.sendButtornLoading=!0},complete:()=>{console.log("COMPLETO"),this.sendButtornLoading=!0}})}validOrTouched(t){const n=this.form.get(t);return n.touched&&!n.valid}validOrTouchedGuests(t,n){var s,u;const l=null===(u=null===(s=this.form.get("guests"))||void 0===s?void 0:s.get(n.toString()))||void 0===u?void 0:u.get(t);return l.touched&&!l.valid}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.qu),e.Y36(m.gz),e.Y36(p.N))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-home"]],decls:40,vars:7,consts:[[1,"site-heading","text-center","text-faded","d-lg-block"],[1,"site-heading-upper","text-primary","mb-3"],[1,"site-heading-lower"],[1,"page-section","about-heading"],[1,"container"],["src","assets/img/dudu.jpeg","alt","Convite do Dudu",1,"img-fluid","rounded","about-heading-img","mb-3","mb-lg-0"],[1,"about-heading-content"],[1,"row"],[1,"col-xl-9","col-lg-10","mx-auto"],[1,"bg-faded","rounded","p-5"],[1,"section-heading","mb-4"],[1,"section-heading-lower"],[3,"formGroup","ngSubmit"],[1,"form-floating","mb-3"],["type","text","readonly","","formControlName","name","id","name","placeholder","Seu Nome",1,"form-control"],["for","name"],["class","form-text text-danger",4,"ngIf"],["type","number","readonly","","formControlName","phone","id","phone","placeholder","Seu Telefone",1,"form-control"],["for","phone"],["formArrayName","guests",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-success","col-12",3,"disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm",3,"hidden"],[1,"footer","text-faded","text-center","py-5"],[1,"m-0","small"],["href","https://www.linkedin.com/in/\u{1f913}-jefferson-alves-reis-00007361/"],[1,"form-text","text-danger"],["formArrayName","guests"],[1,"input-group","mb-3","guests",3,"formGroupName"],[1,"form-floating","mb-3","col-8"],["type","text","readonly","","formControlName","name","id","guestName","placeholder","Acompanhante",1,"form-control"],["for","guestName"],[1,"form-check"],["type","checkbox","formControlName","isKid","id","flexCheckDefault",1,"form-check-input","checkbox-xl"],["for","flexCheckDefault",1,"form-check-label",2,"padding-left","8px"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"fa-solid","fa-trash-can"]],template:function(t,n){1&t&&(e.TgZ(0,"header")(1,"h1",0)(2,"span",1),e._uU(3,"Chegou a hora de comemoramos juntos!"),e.qZA(),e.TgZ(4,"span",2),e._uU(5,"Eduardo 10 anos"),e.qZA()()(),e.TgZ(6,"section",3)(7,"div",4),e._UZ(8,"img",5),e.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"h2",10)(14,"span",11),e._uU(15,"Confirme sua presen\xe7a!"),e.qZA()(),e.TgZ(16,"p"),e._uU(17,"Por favor confirme sua presen\xe7a e idade para o buffet."),e.qZA(),e.TgZ(18,"form",12),e.NdJ("ngSubmit",function(){return n.confirm()}),e.TgZ(19,"div",13),e._UZ(20,"input",14),e.TgZ(21,"label",15),e._uU(22,"Seu Nome"),e.qZA(),e.YNc(23,g,2,0,"small",16),e.qZA(),e.TgZ(24,"div",13),e._UZ(25,"input",17),e.TgZ(26,"label",18),e._uU(27,"Seu Telefone"),e.qZA(),e.YNc(28,h,2,0,"small",16),e.qZA(),e.YNc(29,b,14,2,"div",19),e.TgZ(30,"button",20),e._uU(31),e._UZ(32,"span",21),e.qZA()()()()()()()(),e.TgZ(33,"footer",22)(34,"div",4)(35,"p",23),e._uU(36,"Feito com \u2764\ufe0f pelo papai "),e.TgZ(37,"a",24),e._uU(38,"jefaokpta"),e.qZA(),e._uU(39," 2022 "),e.qZA()()()),2&t&&(e.xp6(18),e.Q6J("formGroup",n.form),e.xp6(5),e.Q6J("ngIf",n.validOrTouched("name")),e.xp6(5),e.Q6J("ngIf",n.validOrTouched("phone")),e.xp6(1),e.Q6J("ngForOf",n.guests.controls),e.xp6(1),e.Q6J("disabled",n.sendButtonDisabled),e.xp6(1),e.hij(" ",n.sendButtonText," "),e.xp6(1),e.Q6J("hidden",n.sendButtornLoading))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,d.O5,r.wV,d.sg,r.CE,r.x0,r.Wl],styles:[".checkbox-xl[_ngcontent-%COMP%]{top:1.2rem;width:1.85rem;height:1.85rem}.guests[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]}),o})();const Z=[{path:"",component:f},{path:":idParticipant",component:f}];let x=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[m.Bz.forChild(Z)],m.Bz]}),o})(),T=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[d.ez,x,r.UX]]}),o})()}}]);